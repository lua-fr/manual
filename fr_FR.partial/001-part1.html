<!DOCTYPE html>
<html>
<head>
  <title></title>
  <meta http-equiv='Content-Type' content='text/html; charset=utf-8'>
  <style>


/*
Based on Minimal CSS (minimalcss.com) under the MIT license.
*/

/* Reset */
* { margin: 0; padding: 0; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; }

/* Layout */
body { background-color: #fff; color: #333;	font: 14px/20px "HelveticaNeue", "Helvetica Neue", Helvetica, Arial, sans-serif; }

header { width: 100%; margin: 0 auto; position: relative; padding: 20px 0; margin-bottom: 20px; }

nav ul { margin: 0; }
nav ul li { display: inline; margin-right: 20px; font-size: 16px; line-height: 28px; color: #333; }
nav ul li a { color: #333; }

.container { position: relative; max-width: 90%; margin: 0 auto; }

footer { border-top:1px solid #ccc; font-size:11px; line-height:26px; color:#999; }
footer a { color:#999999; }
footer a:hover { color:#105CB6; }
footer ul li { display:inline; list-style:none; padding-left:20px; }

/* Typography */
a { color: #105CB6; text-decoration: none; }
a:hover, a:focus { color: #105CB6; text-decoration: underline; }
a:active { color: #105CB6; }

h1 { font-size: 24px; line-height: 20px; margin: 10px 0; }
h2 { font-size: 20px; line-height: 20px; margin: 10px 0; }
h3 { font-size: 16px; line-height: 20px; margin: 10px 0; }
h4 { font-size: 14px; line-height: 20px; margin: 10px 0; }
h5 { font-size: 12px; line-height: 20px; margin: 10px 0; }
h5 { font-size: 10px; line-height: 20px; margin: 10px 0; }
h1,h2,h3,h4,h5,h6 { color: #333; }

p { margin-bottom: 10px; }

.float-left     { float: left; }
.float-right    { float: right; }
img.float-left  { float: left; margin: 0 20px 20px 0; }
img.float-right { float: right; margin: 0 0 20px 20px; }
img.center      { margin: 0 auto; display: block; }

.text-left    { text-align: left; }
.text-center  { text-align: center; }
.text-right   { text-align: right; }
.text-justify { text-align: justify; }

/* Misc */
hr { background-color: #ccc; border: 0px; color: #ccc; height: 1px; margin: 8px 0 20px 0; }
pre, code { background:#E0ECF6; display:block; margin-bottom: 20px; padding:10px; }

blockquote { margin: 10px 10px 20px; padding: 9px; background-color: #f8f8f8; color: #666; border-left: 5px solid #ddd; font: 14px/20px Georgia, Times, serif; quotes: "\201C" "\201D"; }
blockquote p { margin: 0; }
blockquote:before { content: open-quote; font-weight: bold; }
blockquote:after  { content: close-quote; font-weight: bold; }

/* List */
ul { list-style-position:inside; }
ol { list-style-position:inside; }

/* Table */
table {
  border-collapse: collapse;
  border-spacing: 0;
}
th { font-weight: bold; }
tfoot { font-style: italic; }

/* Metadata part */

.metadata {
  margin-top: 15px;
  margin-bottom: 10px;
  font-size: 90%;
}
table.metadata td {
  padding-right: 20px;
}

.stats {
  padding-top: 5px;
  padding-bottom: 20px;
}
.graph {
  width: 100%;
}
.graph div { float: left; }
.graph div:first-child { border-top-left-radius: 3px; border-bottom-left-radius: 3px; }
.graph div:last-child { border-top-right-radius: 3px; border-bottom-right-radius: 3px; }
.percent-done    { background-color: #71DD46; height: 10px; }
.percent-fuzzy   { background-color: #FFD300; height: 10px; }
.percent-untrans { background-color: #F1F1F1; height: 10px; }
.legend {
  font-size: smaller;
  color: #aaa;
  padding-top: 12px;
  text-align: center;
}

/* Translations */
table.translations {
  width: 100%;
  table-layout: fixed;
}
table.translations th, table.translations td {
  padding: 5px 10px;
  vertical-align: top;
  border-bottom: 1px solid #E1E1E1;
}
table.translations th {
  text-align: left;
}
table.translations th:first-child, table.translations td:first-child { padding-left: 0; }
table.translations th:last-child, table.translations td:last-child { padding-right: 0; }

.with-comments td {
  border-bottom: none !important;
}
tr.comments div {
  float: right;
  max-width: 75%;
  font-size: smaller;
  color: #aaa;
}
tr.comments div p:last-child { margin-bottom: 0; }

.fuzzy .tra {
  color: #a9861b;
}

.msgctxt {
  font-size: smaller;
  color: #6d8e13;
}


  </style>
</head>
<body>
<div class='container'>
<table class='metadata'>
<tr><td>Language:</td><td>French (France)</td></tr>
</table>
<div class='stats'>
  <div class='graph'>
    <div class='percent-done' style='width: 96.25%'>&nbsp;</div>
    <div class='percent-untrans' style='width: 3.75%'>&nbsp;</div>
  </div>
  <div class='legend'>Translated: 77 of 80 (96 %)  •  Remaining: 3  </div>
</div>
<table class='translations'>
  <thead>
    <tr>
      <th>Source text — English</th>
      <th>Translation — French (France)</th>
    </tr>
  </thead>
  <tbody>
<tr class='i untrans with-comments'>
<td class='src'  lang='en'>
@Ci{$Id: manual.of,v 1.166 2016/12/22 15:46:25 roberto Exp roberto $} @C{[(-------------------------------------------------------------------------} @manual{</td>
<td class='tra'  lang='fr-FR'>
</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
@sect1{@title{Introduction}</td>
<td class='tra'  lang='fr-FR'>
@sect1{@title{Introduction}</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
Lua is a powerful, efficient, lightweight, embeddable scripting language.  It supports procedural programming, object-oriented programming, functional programming, data-driven programming, and data description.</td>
<td class='tra'  lang='fr-FR'>
Lua est un langage de script puissant, efficace, léger, embarquable.
<br>Il supporte la programmation procédurale, la programmation orientée objet, la programmation fonctionnelle, la programmation data-driven et la description de données.</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
Lua combines simple procedural syntax with powerful data description constructs based on associative arrays and extensible semantics.  Lua is dynamically typed, runs by interpreting bytecode with a register-based virtual machine, and has automatic memory management with incremental garbage collection, making it ideal for configuration, scripting, and rapid prototyping.</td>
<td class='tra'  lang='fr-FR'>
Lua combine une syntaxe procédurale simple avec une puissante construction de description des données basée sur des tableaux associatifs et une sémantique extensible.
<br>Lua est typée dynamiquement, basée sur l'interprétation d'un bytecode et une machine virtuelle. Il possède une gestion de la mémoire avec un garbage collector incrémental, le rendant facilement configurable, scriptable, et un prototypage rapide.</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
Lua is implemented as a library, written in @emphx{clean C}, the common subset of @N{Standard C} and C++.  The Lua distribution includes a host program called @id{lua}, which uses the Lua library to offer a complete, standalone Lua interpreter, for interactive or batch use.  Lua is intended to be used both as a powerful, lightweight, embeddable scripting language for any program that needs one, and as a powerful but lightweight and efficient stand-alone language.</td>
<td class='tra'  lang='fr-FR'>
Lua est implémenté comme une bibliothèque, écrite en @emphx{clean C}, le sous-ensemble issue du @N{Standard C} et C++.
<br>La distribution du Lua comprend un programme hôte nommé @id{lua}, qui utilise la librairie Lua pour offrir un interpréteur Lua complet, et autonome, à utiliser interactivement ou comme interpréteur.
<br>Lua est pensé pour être un langage scriptable à la fois puissant, léger, et embarquable pour les besoins de tous les programmes, et un langage autonome puissant, léger, et efficace.</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
As an extension language, Lua has no notion of a @Q{main} program: it works @emph{embedded} in a host client, called the @emph{embedding program} or simply the @emphx{host}.  (Frequently, this host is the stand-alone @id{lua} program.)  The host program can invoke functions to execute a piece of Lua code, can write and read Lua variables, and can register @N{C functions} to be called by Lua code.  Through the use of @N{C functions}, Lua can be augmented to cope with a wide range of different domains, thus creating customized programming languages sharing a syntactical framework.</td>
<td class='tra'  lang='fr-FR'>
En tant que langage d'extension, Lua n'a pas de fonction principale @Q{main} : il fonctionne comme un langage embarqué sur un hôte, appelé @emph{programme embarqué}, ou simplement @emphx{hôte}. (Souvent, cet hôte est un programme @id{lua} autonome.)
<br>Le programme hôte peut appeler des fonctions pour exécuter des morceaux de code Lua, peut écrire et lire des variables Lua, peut enregistrer des @N{fonctions C} pour être appelées avec du code Lua.
<br>Avec l'utilisation de @N{fonctions C}, Lua peut être utilisé dans de nombreux domaines de programmation, et ainsi créer des langages de programmation partageant une même base syntaxique.</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
Lua is free software, and is provided as usual with no guarantees, as stated in its license.  The implementation described in this manual is available at Lua's official web site, @id{www.lua.org}.</td>
<td class='tra'  lang='fr-FR'>
Lua est un logiciel libre, et est fourni sans aucune garantie, comme indiqué dans sa licence.
<br>L'implémentation décrite dans ce manuel est disponible sur le site officiel de Lua, @id{www.lua.org}.</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
Like any other reference manual, this document is dry in places.  For a discussion of the decisions behind the design of Lua, see the technical papers available at Lua's web site.  For a detailed introduction to programming in Lua, see Roberto's book, @emphx{Programming in Lua}.</td>
<td class='tra'  lang='fr-FR'>
Comme n'importe quel autre manuel de référence, ce document n'a pas pour but d'enseigner, mais de renseigner.
<br>Pour discuter des décisions à propos du design de Lua, voir les documents techniques disponibles sur le site de Lua.
<br>Pour une introduction technique à la programmation en Lua, voir le livre de Roberto, @emphx{Programming in Lua}.</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i untrans with-comments'>
<td class='src'  lang='en'>
}</td>
<td class='tra'  lang='fr-FR'>
</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
@C{-------------------------------------------------------------------------} @sect1{basic| @title{Basic Concepts}</td>
<td class='tra'  lang='fr-FR'>
@C{-------------------------------------------------------------------------}
<br>@sect1{basic| @title{Concepts de base}</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
This section describes the basic concepts of the language.</td>
<td class='tra'  lang='fr-FR'>
Cette section décrit les concepts de base du langage.</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
@sect2{TypesSec| @title{Values and Types}</td>
<td class='tra'  lang='fr-FR'>
@sect2{TypesSec| @title{Valeurs et types}</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
Lua is a @emph{dynamically typed language}.  This means that variables do not have types; only values do.  There are no type definitions in the language.  All values carry their own type.</td>
<td class='tra'  lang='fr-FR'>
Lua est un @emph{langage typé dynamiquement}.
<br>Cela signifie que les variables n'ont pas de type, seules les valeurs en ont un.
<br>Il n'y a pas de définition de type dans le langage.
<br>Toutes les valeurs portent leur propre type.</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
All values in Lua are @emph{first-class values}.  This means that all values can be stored in variables, passed as arguments to other functions, and returned as results.</td>
<td class='tra'  lang='fr-FR'>
Toutes les valeurs dans Lua sont @emph{des valeurs de première classe}.
<br>Cela signifie que toutes les valeurs sont stockées dans des variables, passées comme arguments à des fonctions, et renvoyées comme résultat.</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
There are eight @x{basic types} in Lua: @def{nil}, @def{boolean}, @def{number}, @def{string}, @def{function}, @def{userdata}, @def{thread}, and @def{table}.  The type @emph{nil} has one single value, @nil, whose main property is to be different from any other value; it usually represents the absence of a useful value.  The type @emph{boolean} has two values, @false and @true.  Both @nil and @false make a condition false; any other value makes it true.  The type @emph{number} represents both integer numbers and real (floating-point) numbers.  The type @emph{string} represents immutable sequences of bytes.  @index{eight-bit clean} Lua is 8-bit clean: strings can contain any 8-bit value, including @x{embedded zeros} (@Char{\0}).  Lua is also encoding-agnostic; it makes no assumptions about the contents of a string.</td>
<td class='tra'  lang='fr-FR'>
Il y a huit @x{types de base} en Lua :
<br>@def{nil}, @def{boolean}, @def{number},
<br>@def{string}, @def{function}, @def{userdata},
<br>@def{thread}, et @def{table}.
<br>Le type @emph{nil} ne contient qu'une valeur, @nil, qui a la principale propriété d'être différente de toutes les autres valeurs ; il représente usuellement l'absence de valeur utile.
<br>Le type @emph{boolean} contient deux valeurs, @false et @true.
<br>@nil et @false sont des conditions fausses ; toutes les autres valeurs sont des conditions vraies.
<br>Le type @emph{number} représente à la fois les nombres entiers, et réels.
<br>Le type @emph{string} représente des séquences d'octets immuables.
<br>@index{eight-bin clean}
<br>Lua est 8-bit clean :
<br>Les strings peuvent contenir n'importes quelles valeurs de 8 bits, incluant les @x{embedded zeros} (@Char{\0}).
<br>Lua est aussi indépendant de l'encodage ; il ne suppose rien sur le contenu d'un string.</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
The type @emph{number} uses two internal representations, or two @x{subtypes}, one called @def{integer} and the other called @def{float}.  Lua has explicit rules about when each representation is used, but it also converts between them automatically as needed @see{coercion}.  Therefore, the programmer may choose to mostly ignore the difference between integers and floats or to assume complete control over the representation of each number.  Standard Lua uses 64-bit integers and double-precision (64-bit) floats, but you can also compile Lua so that it uses 32-bit integers and/or single-precision (32-bit) floats.  The option with 32 bits for both integers and floats is particularly attractive for small machines and embedded systems.  (See macro @id{LUA_32BITS} in file @id{luaconf.h}.)</td>
<td class='tra'  lang='fr-FR'>
Le type @emph{number} utilise deux représentations internes, ou deux @x{subtypes}, une appelée @def{integer}, et une autre appelée @def{float}.
<br>Lua a des règles explicites quant à la représentation à utiliser, mais peut également les convertir automatiquement quand cela est nécessaire @see{coercion}.
<br>Par conséquent, le programmeur peut choisir d'ignorer la différence entre les integers et les floats la plupart du temps, ou bien contrôler complètement quel type utiliser.
<br>Le Lua standard utilise des integers sur 64 bits, et des floats à double précision (64 bits), mais vous pouvez aussi compiler Lua pour le faire utiliser des integers sur 32 bits et/ou des floats à simple précision (32 bits).
<br>Le fait d'utiliser 32 bits pour et les integers, et les floats est particulièrement avantageux pour les petites machines, et les machines embarquées (voir la macro @id{LUA_32BITS} dans le fichier @id{luaconf.h}).</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
Lua can call (and manipulate) functions written in Lua and functions written in C @see{functioncall}.  Both are represented by the type @emph{function}.</td>
<td class='tra'  lang='fr-FR'>
Lua peut appeler (et manipuler) des fonctions écrites en Lua, et des fonctions écrites en C @see{functioncall}.
<br>Les deux sont représentées par le type @emph{function}.</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
The type @emph{userdata} is provided to allow arbitrary @N{C data} to be stored in Lua variables.  A userdata value represents a block of raw memory.  There are two kinds of userdata: @emphx{full userdata}, which is an object with a block of memory managed by Lua, and @emphx{light userdata}, which is simply a @N{C pointer} value.  Userdata has no predefined operations in Lua, except assignment and identity test.  By using @emph{metatables}, the programmer can define operations for full userdata values @see{metatable}.  Userdata values cannot be created or modified in Lua, only through the @N{C API}.  This guarantees the integrity of data owned by the host program.</td>
<td class='tra'  lang='fr-FR'>
Le type @emph{userdata} est capable de stocker des @N{C data} dans des variables Lua.
<br>Une variable de type userdata représente un bloc mémoire.
<br>Il y a deux types d'userdata : 
<br>@emphx{full userdata}, qui est un objet dont l'emplacement en mémoire est géré par Lua,
<br>et @emphx{light userdata}, qui est simplement une valeur de type @N{pointeur C}.
<br>Le type userdata n'a pas d'opérations prédéfinies en Lua, en dehors de l'affectation et des tests d'identité.
<br>En utilisant les @emph{metatables}, le programmeur peut définir des opérations sur les valeurs de type full userdata @see{metatable}.
<br>Les valeurs de type userdata ne peuvent pas être créer ou modifier en Lua, mais uniquement en utilisant @N{l'API C}.
<br>Cela garantit l'intégrité des données propres au programme hôte.</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
The type @def{thread} represents independent threads of execution and it is used to implement coroutines @see{coroutine}.  Lua threads are not related to operating-system threads.  Lua supports coroutines on all systems, even those that do not support threads natively.</td>
<td class='tra'  lang='fr-FR'>
Le type @def{thread} représente des threads d'exécution indépendants de l'exécution et est utilisé pour implémenter des coroutines @see{coroutine}.
<br>Les threads Lua ne sont pas liés aux threads du système d'exploitation.
<br>Lua supporte les coroutines sur tous les systèmes, même sur ceux qui ne supportent pas les threads nativement.</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
The type @emph{table} implements @x{associative arrays}, that is, @x{arrays} that can be indexed not only with numbers, but with any Lua value except @nil and @x{NaN}.  (@emphx{Not a Number} is a special value used to represent undefined or unrepresentable numerical results, such as @T{0/0}.)  Tables can be @emph{heterogeneous}; that is, they can contain values of all types (except @nil).  Any key with value @nil is not considered part of the table.  Conversely, any key that is not part of a table has an associated value @nil.</td>
<td class='tra'  lang='fr-FR'>
Le type @emph{table} implémente les @x{tableaux associatifs} c'est à dire des @x{tableaux} qui peuvent être indexés non seulement avec des nombres, mais avec n'importe quelle valeur Lua exceptés @nil et @x{NaN} (@emphx{Not a Number} est une valeur spéciale utilisée pour représenter des résultats numériques indéfinis ou non représentables, comme par exemple @T{0/0}).
<br>Les tables peuvent-être @emph{hétérogènes} ; c'est à dire qu'elles peuvent contenir des valeurs de tous les types (excepté @nil).
<br>Les clés de valeur associée @nil ne sont pas considérées comme faisant partie de la table.
<br>Réciproquement, toute clé qui ne fait pas partie de la table a pour valeur associée @nil.</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
Tables are the sole data-structuring mechanism in Lua; they can be used to represent ordinary arrays, lists, symbol tables, sets, records, graphs, trees, etc.  To represent @x{records}, Lua uses the field name as an index.  The language supports this representation by providing @id{a.name} as syntactic sugar for @T{a["name"]}.  There are several convenient ways to create tables in Lua @see{tableconstructor}.</td>
<td class='tra'  lang='fr-FR'>
Les tables sont le seul mécanismes de structures de données propres à Lua ; elles peuvent être utilisées pour représenter des tableaux ordinaires, des listes, des tables de symboles, des dictionnaires, des enregistrements, des graphes, des arbres, etc.
<br>Pour représenter les @x{enregistrements}, Lua utilise le champ de nom comme un index.
<br>Le langage supporte cette représentation en fournissant un identifiant @id{a.name} comme sucre syntaxique pour @T{a["name"]}.
<br>Il y a plusieurs façons pratiques de créer des tables en Lua @see{tableconstructor}.</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
Like indices, the values of table fields can be of any type.  In particular, because functions are first-class values, table fields can contain functions.  Thus tables can also carry @emph{methods} @see{func-def}.</td>
<td class='tra'  lang='fr-FR'>
Tout comme les indices, les valeurs des champs d'une table peuvent être de tous les types.
<br>En particulier, comme les fonctions sont des valeurs de première classe, elles peuvent être des champs d'une table.
<br>Ainsi, les tables peuvent contenir des @emph{méthodes} @see{func-def}.</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
The indexing of tables follows the definition of raw equality in the language.  The expressions @T{a[i]} and @T{a[j]} denote the same table element if and only if @id{i} and @id{j} are raw equal (that is, equal without metamethods).  In particular, floats with integral values are equal to their respective integers (e.g., @T{1.0 == 1}).  To avoid ambiguities, any float with integral value used as a key is converted to its respective integer.  For instance, if you write @T{a[2.0] = true}, the actual key inserted into the table will be the integer @T{2}.  (On the other hand, 2 and @St{2} are different Lua values and therefore denote different table entries.)</td>
<td class='tra'  lang='fr-FR'>
L'indexation des tables suit la définition de l'égalité pure dans le langage. Les expressions @T{a[i]} et @T{a[j]} indiquent le même élément de la table si et seulement si @id{i} et @id{j} sont égaux (c'est à dire, égaux sans méta-méthodes).
<br>En particulier, les flottants avec des valeurs entières sont égaux à leur représentation entière respective (e.g., @T{1.0 == 1}).
<br>Afin d'éviter les ambiguïtés, tous les flottants avec une valeur entière sont automatiquement convertis vers leur forme entière respective.
<br>Par exemple, si vous écrivez @T{a[2.0] = true}, la clé insérée dans la table sera l'entier @T{2} (d'un autre côté, 2 et @St{2} sont deux valeurs différentes et pointent ainsi vers deux entrées de la table différentes).</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
Tables, functions, threads, and (full) userdata values are @emph{objects}: variables do not actually @emph{contain} these values, only @emph{references} to them.  Assignment, parameter passing, and function returns always manipulate references to such values; these operations do not imply any kind of copy.</td>
<td class='tra'  lang='fr-FR'>
Les valeurs de type table, fonction, thread et (full) userdata sont des @emph{objets} :
<br>les variables ne @emph{contiennent} pas ces valeurs, elles @{renvoient} vers elles.
<br>Les affectations, passages de paramètres, et retours de fonctions manipulent toujours des références vers ces valeurs ; ces opérations n'impliquent pas une quelconque copie.</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
The library function @Lid{type} returns a string describing the type of a given value @see{predefined}.</td>
<td class='tra'  lang='fr-FR'>
La fonction de bibliothèque @Lid{type} renvoie une chaîne de caractères décrivant le type de la valeur passé en argument @see{predefined}.</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
@sect2{globalenv| @title{Environments and the Global Environment}</td>
<td class='tra'  lang='fr-FR'>
@sect2{globalenv| @title{Environnements et environnement global}</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
As will be discussed in @refsec{variables} and @refsec{assignment}, any reference to a free name (that is, a name not bound to any declaration) @id{var} is syntactically translated to @T{_ENV.var}.  Moreover, every chunk is compiled in the scope of an external local variable named @id{_ENV} @see{chunks}, so @id{_ENV} itself is never a free name in a chunk.</td>
<td class='tra'  lang='fr-FR'>
Comme nous le verrons dans @refsec{variables} et @refsec{assignment},
<br>chaque référence à un nom libre
<br>(c'est à dire, un nom qui n'est pas bound(relié?) à une quelconque déclaration) @id{var}
<br>est syntaxiquement transformé en @T{_ENV.var}.
<br>De plus, chaque morceau est compilé dans la portée d'une
<br>variable locale externe nommée @id{_ENV} @see{chunks},
<br>donc @id{_ENV} lui-même n'est jamais un nom libre dans un morceau.</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
Despite the existence of this external @id{_ENV} variable and the translation of free names, @id{_ENV} is a completely regular name.  In particular, you can define new variables and parameters with that name.  Each reference to a free name uses the @id{_ENV} that is visible at that point in the program, following the usual visibility rules of Lua @see{visibility}.</td>
<td class='tra'  lang='fr-FR'>
Malgré l'existence de cette variable externe @id{_ENV} et
<br>la traduction de noms disponible,
<br>@id{_ENV} est un nom complètement normal.
<br>En particulier, vous pouvez définir de nouvelles variables et paramètres avec ce nom.
<br>Chaque référence à un nom disponible utilise le @id{_ENV} qui est
<br>visible à ce stade du programme,
<br>suivant les règles habituelles de visibilité de Lua @see{visibility}.</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
Any table used as the value of @id{_ENV} is called an @def{environment}.</td>
<td class='tra'  lang='fr-FR'>
Toute table utilisée comme valeur de @id{_ENV} s'appelle un @def{environnement}.</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
Lua keeps a distinguished environment called the @def{global environment}.  This value is kept at a special index in the C registry @see{registry}.  In Lua, the global variable @Lid{_G} is initialized with this same value.  (@Lid{_G} is never used internally.)</td>
<td class='tra'  lang='fr-FR'>
Lua garde un environnement distinct appelé @def{environnement global}.
<br>Cette valeur est conservée dans un index spécial dans un registre C @see{registry}.
<br>En Lua, la variable globale @Lid{_G} est initialisée avec cette même valeur.
<br>(@Lid{_G} n'est jamais utilisé en interne.)</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
When Lua loads a chunk, the default value for its @id{_ENV} upvalue is the global environment @seeF{load}.  Therefore, by default, free names in Lua code refer to entries in the global environment (and, therefore, they are also called @def{global variables}).  Moreover, all standard libraries are loaded in the global environment and some functions there operate on that environment.  You can use @Lid{load} (or @Lid{loadfile})  to load a chunk with a different environment.  (In C, you have to load the chunk and then change the value of its first upvalue.)</td>
<td class='tra'  lang='fr-FR'>
Quand Lua charge un morceau,
<br>la valeur par défaut pour sa valeur ?????????????????????????????? @id{_ENV}
<br>est l'environnement global @seeF{load}.
<br>Par conséquent, par défaut,
<br>les noms disponibles dans le code Lua se réfèrent aux entrées dans l'environnement global
<br>(et, par conséquent, ils sont également appelés @def{variables globales}).
<br>En outre, toutes les bibliothèques standard sont chargées dans l'environnement global
<br>et certaines fonctions fonctionnent dans cet environnement.
<br>(En C, vous devez charger le morceau puis modifier la valeur de sa première ??????.)</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
@sect2{error| @title{Error Handling}</td>
<td class='tra'  lang='fr-FR'>
@sect2{error| @title{Gestion des erreurs}</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
Because Lua is an embedded extension language, all Lua actions start from @N{C code} in the host program calling a function from the Lua library.  (When you use Lua standalone, the @id{lua} application is the host program.)  Whenever an error occurs during the compilation or execution of a Lua chunk, control returns to the host, which can take appropriate measures (such as printing an error message).</td>
<td class='tra'  lang='fr-FR'>
Parce que Lua est un langage d'extension embarqué,
<br>toutes les actions Lua commencent à partir de @N{code C} dans le programme hôte
<br>appelant une fonction de la bibliothèque Lua.
<br>(Lorsque vous utilisez Lua en mode autonome, l'application @id{lua} est le programme hôte.)
<br>Chaque fois qu'une erreur survient pendant
<br>la compilation ou l'exécution d'un morceau de Lua,
<br>le contrôle revient à l'hôte,
<br>qui peut prendre des mesures appropriées
<br>(comme l'impression d'un message d'erreur).</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
Lua code can explicitly generate an error by calling the @Lid{error} function.  If you need to catch errors in Lua, you can use @Lid{pcall} or @Lid{xpcall} to call a given function in @emphx{protected mode}.</td>
<td class='tra'  lang='fr-FR'>
Le code Lua peut générer explicitement une erreur en appelant la fonction @Lid{error}.
<br>Si vous devez capturer des erreurs en Lua,
<br>vous pouvez utiliser @Lid{pcall} ou @Lid{xpcall}
<br>pour appeler une fonction donnée dans le @emphx{mode protégé}.</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
Whenever there is an error, an @def{error object} (also called an @def{error message})  is propagated with information about the error.  Lua itself only generates errors whose error object is a string, but programs may generate errors with any value as the error object.  It is up to the Lua program or its host to handle such error objects.</td>
<td class='tra'  lang='fr-FR'>
Chaque fois qu'il y a une erreur,
<br>un @def{objet d'erreur} (également appelé @def{message d'erreur})
<br>se propage avec des informations sur l'erreur.
<br>Lua lui même génère seulement des erreurs dont l'objet est une chaîne,
<br>mais les programmes peuvent générer des erreurs avec
<br>n'importe quelle valeur comme objet d'erreur.
<br>C'est au programme Lua ou à son hôte de gérer de tels objets d'erreur.</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
When you use @Lid{xpcall} or @Lid{lua_pcall}, you may give a @def{message handler} to be called in case of errors.  This function is called with the original error object and returns a new error object.  It is called before the error unwinds the stack, so that it can gather more information about the error, for instance by inspecting the stack and creating a stack traceback.  This message handler is still protected by the protected call; so, an error inside the message handler will call the message handler again.  If this loop goes on for too long, Lua breaks it and returns an appropriate message.  (The message handler is called only for regular runtime errors.  It is not called for memory-allocation errors nor for errors while running finalizers.)</td>
<td class='tra'  lang='fr-FR'>
Lorsque vous utilisez @Lid{xpcall} ou @Lid{lua_pcall},
<br>vous pouvez passer un @def{gestionnaire de message}
<br>à appeler en cas d'erreurs.
<br>Cette fonction est appelée avec l'objet d'erreur d'origine
<br>et renvoie un nouvel objet d'erreur.
<br>Il est appelé avant que l'erreur déroule la pile,
<br>afin qu'il puisse recueillir plus d'informations sur l'erreur,
<br>par exemple en inspectant la pile et en créant une trace de la pile.
<br>Ce gestionnaire de message est toujours protégé par un appel protégé;
<br>donc, une erreur dans le gestionnaire de messages
<br>appellera à nouveau le gestionnaire de messages.
<br>Si cette boucle dure trop longtemps,
<br>Lua le casse et renvoie un message approprié.
<br>(Le gestionnaire de messages est uniquement appelé pour des erreurs d'exécution régulières.
<br>Il n'est pas appelé ni pour des erreurs d'allocation mémoire
<br>ni pour des erreurs de finalisations d'exécution.)</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
@sect2{metatable| @title{Metatables and Metamethods}</td>
<td class='tra'  lang='fr-FR'>
@sect2{metatable| @title{Metatbles et Metamethods}</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
Every value in Lua can have a @emph{metatable}.  This @def{metatable} is an ordinary Lua table that defines the behavior of the original value under certain special operations.  You can change several aspects of the behavior of operations over a value by setting specific fields in its metatable.  For instance, when a non-numeric value is the operand of an addition, Lua checks for a function in the field @St{__add} of the value's metatable.  If it finds one, Lua calls this function to perform the addition.</td>
<td class='tra'  lang='fr-FR'>
Toute valeur en Lua peut avoir une @empth{metatable}.
<br>Cette @emph{metatable} est une table Lua ordinaire
<br>qui définit le comportement de la valeur d'origine
<br>sous certaines opérations spéciales.
<br>Vous pouvez modifier plusieurs aspects du comportement
<br>des opérations sur une valeur en définissant des champs spécifiques dans sa metatable.
<br>Par exemple, lorsqu'une  valeur non numérique est l'opérande d'une addition,
<br>Lua regarde si le champ de @St{__add} de la metatable de la valeur a pour valeur associée une fonction.
<br>S'il en trouve un, Lua appelle cette fonction pour effectuer l'addition.</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
The key for each event in a metatable is a string with the event name prefixed by two underscores; the corresponding values are called @def{metamethods}.  In the previous example, the key is @St{__add} and the metamethod is the function that performs the addition.</td>
<td class='tra'  lang='fr-FR'>
La clé pour chaque événement dans une metatable est une chaîne
<br>avec le nom de l'événement préfixé par deux caractères de soulignement;
<br>les valeurs correspondantes sont appelées @def{metamethods}.
<br>Dans l'exemple précédent, la clé est @St{__add}
<br>et la metamethod est la fonction qui effectue l'addition.</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
You can query the metatable of any value using the @Lid{getmetatable} function.  Lua queries metamethods in metatables using a raw access @seeF{rawget}.  So, to retrieve the metamethod for event @id{ev} in object @id{o}, Lua does the equivalent to the following code: @verbatim{ rawget(getmetatable(@rep{o}) or {}, "__@rep{ev}")  }</td>
<td class='tra'  lang='fr-FR'>
Vous pouvez obtenir la metatable de n'importe quelle valeur
<br>en utilisant la fonction @Lid{getmetatable}.
<br>Lua interroge les metamethods dans les metatables en utilisant un accès brut @seeF{rawget}.
<br>Donc, pour récupérer la metamethod pour l'événement @id{ev} dans l'objet @id{o},
<br>Lua fait l'équivalent du coude suivant:
<br>@verbatim{
<br>rawget(getmetatable(@rep{o}) or {}, "__@rep{ev}")
<br>}</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
You can replace the metatable of tables using the @Lid{setmetatable} function.  You cannot change the metatable of other types from Lua code (except by using the @link{debuglib|debug library}); you should use the @N{C API} for that.</td>
<td class='tra'  lang='fr-FR'>
Vous pouvez remplacer les metatables de tables en utilisant la fonction @Lid{setmetatable}.
<br>Vous ne pouvez pas modifier les metatables d'autres types depuis du code Lua
<br>(sauf en utilisant @link{debuglib|debug library});
<br>vous devrez utiliser @N{l'API C} pour cela.</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
Tables and full userdata have individual metatables (although multiple tables and userdata can share their metatables).  Values of all other types share one single metatable per type; that is, there is one single metatable for all numbers, one for all strings, etc.  By default, a value has no metatable, but the string library sets a metatable for the string type @see{strlib}.</td>
<td class='tra'  lang='fr-FR'>
Les tables et les full userdata ont chacun leur propre metatable
<br>(plusieurs tables ou userdata peuvent cependant partager une même metatable).
<br>Les valeurs des autres types partagent la même metatable par type;
<br>il y a une table pour tous les numbers, une pour toutes les strings etc.
<br>Par défaut, une valeur n'a pas de metatable définie,
<br>cependant la bibliothèque string définit une metatable pour le type string @see{strlib}.</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
A metatable controls how an object behaves in arithmetic operations, bitwise operations, order comparisons, concatenation, length operation, calls, and indexing.  A metatable also can define a function to be called when a userdata or a table is @link{GC|garbage collected}.</td>
<td class='tra'  lang='fr-FR'>
Une metatable contrôle comment se comporte un objet dans les opérations
<br>arithmétiques, les opérations bit à bit, les comparaisons, les concaténations,
<br>les appels, l'indexation et les opérations de longueur.
<br>Elle peut également définir une fonction appelé quand une userdata
<br>ou une table passe au @link{GC|garbage collector}.</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
For the unary operators (negation, length, and bitwise NOT), the metamethod is computed and called with a dummy second operand, equal to the first one.  This extra operand is only to simplify Lua's internals (by making these operators behave like a binary operation)  and may be removed in future versions.  (For most uses this extra operand is irrelevant.)</td>
<td class='tra'  lang='fr-FR'>
Dans le cas des opérateurs unaires (négation, longueur, non bit à bit),
<br>la metamethod est appelé avec un second argument factice égal au premier.
<br>Cet argument supplémentaire est uniquement présent pour simplifier
<br>l'implémentation de Lua (en confondant les opérateurs unaires et binaires)
<br>et peut disparaître dans de prochaine version de Lua.
<br>(Dans la plupart des cas, cet argument n'a pas d'utilité.)</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
A detailed list of events controlled by metatables is given next.  Each operation is identified by its corresponding key.</td>
<td class='tra'  lang='fr-FR'>
Voici une liste détaillée des éventements contrôlés par les metatables.
<br>Chaque opération est identifiée par sa clé correspondante.</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
@description{</td>
<td class='tra'  lang='fr-FR'>
@description{</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
@item{@idx{__add}| the addition (@T{+}) operation.  If any operand for an addition is not a number (nor a string coercible to a number), Lua will try to call a metamethod.  First, Lua will check the first operand (even if it is valid).  If that operand does not define a metamethod for @idx{__add}, then Lua will check the second operand.  If Lua can find a metamethod, it calls the metamethod with the two operands as arguments, and the result of the call (adjusted to one value)  is the result of the operation.  Otherwise, it raises an error.  }</td>
<td class='tra'  lang='fr-FR'>
@item{@idx{__add}|
<br>Opération d'addition(@T{+}).
<br>Si un opérande pour une addition n'est pas un nombre
<br>(ni une chaîne assimilable à un nombre),
<br>Lua essaiera d'appeler une metamethod.
<br>Tout d'abord, Lua vérifie le première opérande (même s'il est valide).
<br>Si cet opérande ne définit pas une metamethod pour @idx{__add},
<br>alors Lua vérifie le second opérande.
<br>Si Lua peut trouver une metamethod,
<br>il appelle la metamethod avec les deux opérandes comme arguments
<br>et le résultat de l'appel
<br>(ajusté à une valeur)
<br>est le résultat de l'opération.
<br>Autrement,
<br>cela soulève une erreur.
<br>}</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
@item{@idx{__sub}| the subtraction (@T{-}) operation.  Behavior similar to the addition operation.  }</td>
<td class='tra'  lang='fr-FR'>
@item{@idx{__sub}|
<br>Opération de soustraction (@T{-}).
<br>Comportement similaire à l'opération d'addition.
<br>}</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
@item{@idx{__mul}| the multiplication (@T{*}) operation.  Behavior similar to the addition operation.  }</td>
<td class='tra'  lang='fr-FR'>
@item{@idx{__mul}|
<br>Opération de multiplication (@T{*}).
<br>Comportement similaire à l'opération d'addition.
<br>}</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
@item{@idx{__div}| the division (@T{/}) operation.  Behavior similar to the addition operation.  }</td>
<td class='tra'  lang='fr-FR'>
@item{@idx{__div}|
<br>Opération de devision (@T{/}).
<br>Comportement similaire à l'opération d'addition.
<br>}</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
@item{@idx{__mod}| the modulo (@T{%}) operation.  Behavior similar to the addition operation.  }</td>
<td class='tra'  lang='fr-FR'>
@item{@idx{__mod}|
<br>Opération modulo (@T{%}).
<br>Comportement similaire à l'opération d'addition.
<br>}</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
@item{@idx{__pow}| the exponentiation (@T{^}) operation.  Behavior similar to the addition operation.  }</td>
<td class='tra'  lang='fr-FR'>
@item{@idx{__pow}|
<br>Opération d'exponentiation (@T{^}).
<br>Comportement similaire à l'opération d'addition.
<br>}</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
@item{@idx{__unm}| the negation (unary @T{-}) operation.  Behavior similar to the addition operation.  }</td>
<td class='tra'  lang='fr-FR'>
@item{@idx{__unm}|
<br>Opération négation (unary @T{-}).
<br>Comportement similaire à l'opération d'addition.
<br>}</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
@item{@idx{__idiv}| the floor division (@T{//}) operation.  Behavior similar to the addition operation.  }</td>
<td class='tra'  lang='fr-FR'>
@item{@idx{__idiv}|
<br>Opération floor (@T{//}).
<br>Comportement similaire à l'opération d'addition.
<br>}</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
@item{@idx{__band}| the bitwise AND (@T{&amp;}) operation.  Behavior similar to the addition operation, except that Lua will try a metamethod if any operand is neither an integer nor a value coercible to an integer @see{coercion}.  }</td>
<td class='tra'  lang='fr-FR'>
@item{@idx{__band}|
<br>Opération AND (@T{&amp;}) bit à bit.
<br>Comportement semblable à l'opération d'addition,
<br>sauf que Lua va essayer une metamethod
<br>si un  opérande n'est ni un nombre entier
<br>ni une valeur assimilable à un entier @see{coercion}.
<br>}</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
@item{@idx{__bor}| the bitwise OR (@T{|}) operation.  Behavior similar to the bitwise AND operation.  }</td>
<td class='tra'  lang='fr-FR'>
@item{@idx{__bor}|
<br>Opération OR (@T{|} bit à bit.
<br>Comportement semblable à l'opération AND bit à bit.
<br>}</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
@item{@idx{__bxor}| the bitwise exclusive OR (binary @T{~}) operation.  Behavior similar to the bitwise AND operation.  }</td>
<td class='tra'  lang='fr-FR'>
@item{@idx{__ bxor}|
<br>Opération OU (binaire @T{~}) externe bit à bit.
<br>Comportement semblable à l'opération AND bit à bit.
<br>}</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
@item{@idx{__bnot}| the bitwise NOT (unary @T{~}) operation.  Behavior similar to the bitwise AND operation.  }</td>
<td class='tra'  lang='fr-FR'>
@item{@idx{__bnot}|
<br>Opération NOT (unaire @T{~}) bit à bit.
<br>Comportement semblable à l'opération AND bit à bit.
<br>}</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
@item{@idx{__shl}| the bitwise left shift (@T{&lt;&lt;}) operation.  Behavior similar to the bitwise AND operation.  }</td>
<td class='tra'  lang='fr-FR'>
@item{@idx{__shl}|
<br>Opération de décalage vers la gauche (@T{&lt;&lt;}).
<br>Comportement semblable à l'opération AND bit à bit.
<br>}</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
@item{@idx{__shr}| the bitwise right shift (@T{&gt;&gt;}) operation.  Behavior similar to the bitwise AND operation.  }</td>
<td class='tra'  lang='fr-FR'>
@item{@idx{__shr}|
<br>Opération de décalage à droite (@T{&gt;&gt;}).
<br>Comportement semblable à l'opération AND bit à bit.
<br>}</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
@item{@idx{__concat}| the concatenation (@T{..}) operation.  Behavior similar to the addition operation, except that Lua will try a metamethod if any operand is neither a string nor a number (which is always coercible to a string).  }</td>
<td class='tra'  lang='fr-FR'>
@item{@idx{__concat}|
<br>Opération de concaténation (@T{..}).
<br>Comportement semblable à l'opération d'addition,
<br>sauf que Lua va essayer une metamethod
<br>si un opérande n'est ni une chaîne ni un numéro
<br>(qui est toujours coercible à une chaîne).
<br>}</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
@item{@idx{__len}| the length (@T{#}) operation.  If the object is not a string, Lua will try its metamethod.  If there is a metamethod, Lua calls it with the object as argument, and the result of the call (always adjusted to one value)  is the result of the operation.  If there is no metamethod but the object is a table, then Lua uses the table length operation @see{len-op}.  Otherwise, Lua raises an error.  }</td>
<td class='tra'  lang='fr-FR'>
@item{@idx{__len}|
<br>Opération de longueur (@T{#}).
<br>Si l'objet n'est pas une chaîne,
<br>Lua va essayer sa metamethod.
<br>S'il y a une metamethod,
<br>Lua l'appelle avec l'objet comme argument,
<br>et le résultat de l'appel
<br>(toujours ajusté à une valeur)
<br>est le résultat de l'opération.
<br>S'il n'y a pas de metamethod mais que l'objet est une table,
<br>alors Lua utilise l'opération de longueur de table @see{len-op}.
<br>Sinon, Lua soulève une erreur.
<br>}</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
@item{@idx{__eq}| the equal (@T{==}) operation.  Behavior similar to the addition operation, except that Lua will try a metamethod only when the values being compared are either both tables or both full userdata and they are not primitively equal.  The result of the call is always converted to a boolean.  }</td>
<td class='tra'  lang='fr-FR'>
@item{@idx{__eq}|
<br>Opération égale (@T{==}).
<br>Comportement semblable à l'opération d'addition,
<br>sauf que Lua essaiera une metamethod uniquement
<br>lorsque les valeurs en comparaison sont soit deux
<br>table, soit deux userdata
<br>et s'ils ne sont pas primordialement égaux.
<br>Le résultat de l'appel est toujours
<br>converti en booléen.
<br>}</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
@item{@idx{__lt}| the less than (@T{&lt;}) operation.  Behavior similar to the addition operation, except that Lua will try a metamethod only when the values being compared are neither both numbers nor both strings.  The result of the call is always converted to a boolean.  }</td>
<td class='tra'  lang='fr-FR'>
@item{@idx{__lt}|
<br>Opération moins (@T{&lt;}).
<br>Comportement semblable à l'opération d'addition,
<br>sauf que Lua essaiera une metamethod uniquement lorsque les valeurs
<br>en comparaison ne sont ni les mêmes, ni deux chaînes.
<br>Le résultat de l'appel est toujours converti en booléen.
<br>}</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
@item{@idx{__le}| the less equal (@T{&lt;=}) operation.  Unlike other operations, the less-equal operation can use two different events.  First, Lua looks for the @idx{__le} metamethod in both operands, like in the less than operation.  If it cannot find such a metamethod, then it will try the @idx{__lt} metamethod, assuming that @T{a &lt;= b} is equivalent to @T{not (b &lt; a)}.  As with the other comparison operators, the result is always a boolean.  (This use of the @idx{__lt} event can be removed in future versions; it is also slower than a real @idx{__le} metamethod.)  }</td>
<td class='tra'  lang='fr-FR'>
@item{@idx{__le}|
<br>L'opération inférieur ou égal (@T{&lt;=}) operation.
<br>Contrairement aux autres opérations,
<br>l'opération inférieur ou égal peut utiliser deux évenements différents.
<br>Premièrement, Lua cherche la métaméthode @idx{__le} dans les deux operandes,
<br>comme dans l'opération strictement inférieur.
<br>Si il ne peut pas trouver cette métaméthode,
<br>alors il va essayer la métaméthode @idx{__lt},
<br>en supposant que @T{a &lt;= b} est équivalent à @T{not (b &lt; a)}.
<br>Comme les autres opérateurs de comparaison,
<br>le résultat est toujours un booléen.
<br>(Cette utilisation de l'évenement @idx{__lt} peut être supprimée dans des versions futures;
<br>elle est aussi plus lente qu'une vraie métaméthode @idx{__le}.)
<br>}</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
@item{@idx{__index}| The indexing access @T{table[key]}.  This event happens when @id{table} is not a table or when @id{key} is not present in @id{table}.  The metamethod is looked up in @id{table}.</td>
<td class='tra'  lang='fr-FR'>
@item{@idx{__index}|
<br>L'accès par clé @T{table[key]}.
<br>Cet événement arrive quand @id{table} n'est pas une table ou
<br>quand @id{key} n'est pas présent dans @id{table}.
<br>Cette métaméthode est recherchée dans @id{table}.</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
Despite the name, the metamethod for this event can be either a function or a table.  If it is a function, it is called with @id{table} and @id{key} as arguments, and the result of the call (adjusted to one value)  is the result of the operation.  If it is a table, the final result is the result of indexing this table with @id{key}.  (This indexing is regular, not raw, and therefore can trigger another metamethod.)  }</td>
<td class='tra'  lang='fr-FR'>
Malgré son nom,
<br>la métaméthode pour cet événement peut être soit une fonction ou une table.
<br>Si c'est une fonction,
<br>elle est appellée avec @id{table} et @id{key} comme arguments,
<br>et le résultat de l'appel
<br>(ajusté à une seule valeur)
<br>est le résultat de l'opération.
<br>Si c'est une table,
<br>le résultat final est le résultat de l'indexation de cette table avec @id{key}.
<br>(Cet indexation est régulière, pas brute,
<br>et peut donc déclencher une autre métamethode.)
<br>}</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
@item{@idx{__newindex}| The indexing assignment @T{table[key] = value}.  Like the index event, this event happens when @id{table} is not a table or when @id{key} is not present in @id{table}.  The metamethod is looked up in @id{table}.</td>
<td class='tra'  lang='fr-FR'>
@item{@idx{__newindex}|
<br>L'affectation par indexation @T{table[key] = value}.
<br>Comme l’événement d'indexation,
<br>cet événement arrive quand @id{table} n'est pas une table ou
<br>quand @id{key} n'est pas présent dans @id{table}.</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
Like with indexing, the metamethod for this event can be either a function or a table.  If it is a function, it is called with @id{table}, @id{key}, and @id{value} as arguments.  If it is a table, Lua does an indexing assignment to this table with the same key and value.  (This assignment is regular, not raw, and therefore can trigger another metamethod.)</td>
<td class='tra'  lang='fr-FR'>
Comme l'indexation,
<br>la métamethode pour cet évenement peut être soit une fonction, soit une table.
<br>Si c'est une fonction,
<br>elle est appellée avec @id{table}, @id{key}, et @id{value} comme arguments.
<br>Si c'est une table,
<br>Lua fait une affectation par indexation à cette table avec la même clé et valeur.
<br>(Cet affectation est régulier, pas brute,
<br>et peut donc déclencher une autre métamethode.)</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i untrans with-comments'>
<td class='src'  lang='en'>
Whenever there is a @idx{__newindex} metamethod, Lua does not perform the primitive assignment.  (If necessary, the metamethod itself can call @Lid{rawset} to do the assignment.)  }</td>
<td class='tra'  lang='fr-FR'>
</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
@item{@idx{__call}| The call operation @T{func(args)}.  This event happens when Lua tries to call a non-function value (that is, @id{func} is not a function).  The metamethod is looked up in @id{func}.  If present, the metamethod is called with @id{func} as its first argument, followed by the arguments of the original call (@id{args}).  All results of the call are the result of the operation.  (This is the only metamethod that allows multiple results.)  }</td>
<td class='tra'  lang='fr-FR'>
@item{@idx{__call}|
<br>L'opération d'appel @T{func(args)}.
<br>Cet évenement arrive quand Lua essaye d'appeler une valeur qui n'est pas une fonction
<br>(c'est à dire, @id{func} n'est pas une fonction).
<br>La métaméthode est cherchée dans @id{func}.
<br>Si présente,
<br>la métaméthode est appelée avec @id{func} en tant que premier argument,
<br>suivi par les arguments de l'appel original (@id{args}).
<br>Tous les résultats de l'appel
<br>sont le résultat de l'opération.
<br>(C'est la seule métaméthode qui permet plusieurs résultats.)
<br>}</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
It is a good practice to add all needed metamethods to a table before setting it as a metatable of some object.  In particular, the @idx{__gc} metamethod works only when this order is followed @see{finalizers}.</td>
<td class='tra'  lang='fr-FR'>
C'est une bonne pratique d'ajouter toutes les metamethod nécessaires à une table
<br>avant de la configurer comme une metatable d'un objet quelconque.
<br>En particulier, la metamethod @idx{__gc} fonctionne uniquement dans ce cas @see{finalizers}</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
Because metatables are regular tables, they can contain arbitrary fields, not only the event names defined above.  Some functions in the standard library (e.g., @Lid{tostring})  use other fields in metatables for their own purposes.</td>
<td class='tra'  lang='fr-FR'>
Comme les metatables sont des tableaux réguliers,
<br>ils peuvent contenir des champs arbitraires
<br>en plus des noms d'événements définis ci-dessus.
<br>Certaines fonctions de la bibliothèque standard
<br>(e.g., @Lid{tostring})
<br>utilises d'autres champs de la metatable pour leur propre fonctionnement.</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
@sect2{GC| @title{Garbage Collection}</td>
<td class='tra'  lang='fr-FR'>
@sect2{GC| @title{Garbage Collection}</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
Lua performs automatic memory management.  This means that you do not have to worry about allocating memory for new objects or freeing it when the objects are no longer needed.  Lua manages memory automatically by running a @def{garbage collector} to collect all @emph{dead objects} (that is, objects that are no longer accessible from Lua).  All memory used by Lua is subject to automatic management: strings, tables, userdata, functions, threads, internal structures, etc.</td>
<td class='tra'  lang='fr-FR'>
Lua effectue une gestion automatique de la mémoire.
<br>Ceci veut dire que
<br>vous n'avez pas à vous soucier d'allouer de la mémoire pour les nouveaux objets
<br>ou de la libérer lorsque les objets ne sont plus nécessaires.
<br>Lua gère automatiquement la mémoire en exécutant
<br>un @def{garbage collector} pour collecter tous les @emph{objets morts}
<br>(c'est à dire les objets qui ne sont plus accessible depuis Lua).
<br>L'intégralité de la mémoire utilisée par Lua est soumise à une gestion automatique :
<br>chaînes, tables, userdata, fonctions, threads, structures internes, etc.</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
Lua implements an incremental mark-and-sweep collector.  It uses two numbers to control its garbage-collection cycles: the @def{garbage-collector pause} and the @def{garbage-collector step multiplier}.  Both use percentage points as units (e.g., a value of 100 means an internal value of 1).</td>
<td class='tra'  lang='fr-FR'>
Lua met en œuvre un collecteur incrémental de mark-and-sweep.
<br>Il utilise deux nombres pour contrôler ses cycles de garbage-collection:
<br>le @def{garbage-corrector pause} et
<br>le @def{garbage-collector step multiplier}.
<br>Les deux utilisent des points de pourcentage comme des unités
<br>(par exemple, une valeur de 100 signifie une valeur interne de 1).</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
The garbage-collector pause controls how long the collector waits before starting a new cycle.  Larger values make the collector less aggressive.  Values smaller than 100 mean the collector will not wait to start a new cycle.  A value of 200 means that the collector waits for the total memory in use to double before starting a new cycle.</td>
<td class='tra'  lang='fr-FR'>
Le garbage-collector pause
<br>contrôle la durée pendant laquelle le collecteur attend avant de commencer un nouveau cycle.
<br>Des valeurs plus importantes rendent le collecteur moins agressif.
<br>Les valeurs inférieures à 100 signifient que le collecteur n'attendra pas pour
<br>démarrer un nouveau cycle.
<br>Une valeur de 200 signifie que le collecteur attend que le double de la mémoire total soit utilisé
<br>avant de commencer un nouveau cycle.</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
The garbage-collector step multiplier controls the relative speed of the collector relative to memory allocation.  Larger values make the collector more aggressive but also increase the size of each incremental step.  You should not use values smaller than 100, because they make the collector too slow and can result in the collector never finishing a cycle.  The default is 200, which means that the collector runs at @Q{twice} the speed of memory allocation.</td>
<td class='tra'  lang='fr-FR'>
Le garbage-collector step multiplier
<br>contrôle la vitesse relative du collecteur par rapport à
<br>l'allocation mémoire.
<br>Des valeurs plus importantes rendent le collecteur plus agressif
<br>mais aussi, augmentent la charge de chaque étape.
<br>Vous ne devez pas utiliser des valeurs inférieures à 100,
<br>parce qu'elles rendent le collecteur trop lent et
<br>il est probable que le collecteur ne termine jamais un cycle.
<br>La valeur par défaut est de 200,
<br>ce qui signifie que le collecteur fonctionne à @Q{deux fois}
<br>la vitesse d'allocation de la mémoire.</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
If you set the step multiplier to a very large number (larger than 10% of the maximum number of bytes that the program may use), the collector behaves like a stop-the-world collector.  If you then set the pause to 200, the collector behaves as in old Lua versions, doing a complete collection every time Lua doubles its memory usage.</td>
<td class='tra'  lang='fr-FR'>
Si vous définissez le multiplicateur de pas à un très grand nombre
<br>(plus de 10% du nombre maximum
<br>d'octets que le programme peut utiliser),
<br>le collecteur se comporte comme un collecteur de stop-the-world
<br>(c'est à dire qu'un pas réalise un cycle complet).
<br>Si vous réglez la pause sur 200,
<br>le collecteur se comporte comme dans les anciennes versions de Lua,
<br>faire une collection complète chaque fois que Lua double son
<br>utilisation mémoire</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
<p>
# - manque le '.' final
<br></p>
</div></td>
</tr>
<tr class='i with-comments'>
<td class='src'  lang='en'>
You can change these numbers by calling @Lid{lua_gc} in C or @Lid{collectgarbage} in Lua.  You can also use these functions to control the collector directly (e.g., stop and restart it).</td>
<td class='tra'  lang='fr-FR'>
Vous pouvez modifier ces nombres en appelant @Lid{lua_gc} en C
<br>ou @Lid{collectgarbage} en Lua.
<br>Vous pouvez également utiliser ces fonctions pour contrôler directement
<br>le collecteur (par exemple, pour l'arrêter et le redémarrer).</td>
</tr>
<tr class='comments'>
  <td colspan='2'><div><p>
type: Plain text<br>
</p>
</div></td>
</tr>
</tbody>
</table>
</div>
</body>
</html>
